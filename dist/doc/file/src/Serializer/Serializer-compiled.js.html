<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/Serializer/Serializer-compiled.js | API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="git+https://github.com/theofidry/JsSerializer.git">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">Serializer</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Serializer/AbstractSerializer.js~AbstractSerializer.html">AbstractSerializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/Serializer/Serializer.js~Serializer.html">Serializer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/Serializer/SerializerAwareInterface.js~SerializerAwareInterface.html">SerializerAwareInterface</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-interface">I</span><span data-ice="name"><span><a href="class/src/Serializer/SerializerInterface.js~SerializerInterface.html">SerializerInterface</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/Serializer/Serializer-compiled.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">&apos;use strict&apos;;

Object.defineProperty(exports, &apos;__esModule&apos;, {
    value: true
});

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i &lt; props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (&apos;value&apos; in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

var _get = function get(_x6, _x7, _x8) { var _again = true; _function: while (_again) { var object = _x6, property = _x7, receiver = _x8; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x6 = parent; _x7 = property; _x8 = receiver; _again = true; continue _function; } } else if (&apos;value&apos; in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };

function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? obj : { &apos;default&apos;: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(&apos;Cannot call a class as a function&apos;); } }

function _inherits(subClass, superClass) { if (typeof superClass !== &apos;function&apos; &amp;&amp; superClass !== null) { throw new TypeError(&apos;Super expression must either be null or a function, not &apos; + typeof superClass); } subClass.prototype = Object.create(superClass &amp;&amp; superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var _SerializerAwareInterface = require(&apos;./SerializerAwareInterface&apos;);

var _SerializerAwareInterface2 = _interopRequireDefault(_SerializerAwareInterface);

var _SerializerInterface2 = require(&apos;./SerializerInterface&apos;);

var _SerializerInterface3 = _interopRequireDefault(_SerializerInterface2);

/**
 * Default serializer.
 *
 * Meant to aggregate all the application serializers and be used as the main serializer in the application. This means
 * that for serializing a new object, a custom serializer for this one should be done and registered to this serializer.
 */

var Serializer = (function (_SerializerInterface) {
    _inherits(Serializer, _SerializerInterface);

    /**
     * @param {Map.&lt;string,SerializerInterface&gt;} serializers
     */

    function Serializer(serializers) {
        _classCallCheck(this, Serializer);

        _get(Object.getPrototypeOf(Serializer.prototype), &apos;constructor&apos;, this).call(this, serializers);

        var _iteratorNormalCompletion = true;
        var _didIteratorError = false;
        var _iteratorError = undefined;

        try {
            for (var _iterator = serializers.values()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                var serializer = _step.value;

                if (false === serializer instanceof _SerializerInterface3[&apos;default&apos;]) {
                    throw new TypeError(&apos;Expected serializer to implement SerializerInterface. Got &apos; + serializer.constructor + &apos; instead&apos;);
                }

                if (serializer instanceof _SerializerAwareInterface2[&apos;default&apos;]) {
                    serializer.setSerializer(this);
                }
            }
        } catch (err) {
            _didIteratorError = true;
            _iteratorError = err;
        } finally {
            try {
                if (!_iteratorNormalCompletion &amp;&amp; _iterator[&apos;return&apos;]) {
                    _iterator[&apos;return&apos;]();
                }
            } finally {
                if (_didIteratorError) {
                    throw _iteratorError;
                }
            }
        }

        this._serializers = serializers;
    }

    /**
     * @inheritDoc
     */

    _createClass(Serializer, [{
        key: &apos;serialize&apos;,
        value: function serialize(data, format, context) {
            var serializer = this._getSerializerForSerialization(data, format, context);
            if (null !== serializer) {
                return serializer.serialize(data, format, context);
            }

            throw new Error(&apos;An unexpected value could not be serialized: &quot;&apos; + data + &apos;&quot;&apos;);
        }

        /**
         * @inheritDoc
         */
    }, {
        key: &apos;supportsSerialize&apos;,
        value: function supportsSerialize(data) {
            var format = arguments.length &lt;= 1 || arguments[1] === undefined ? null : arguments[1];

            return null !== this._getSerializerForSerialization(data, format);
        }

        /**
         * @inheritDoc
         */
    }, {
        key: &apos;deserialize&apos;,
        value: function deserialize(data, className) {
            var format = arguments.length &lt;= 2 || arguments[2] === undefined ? null : arguments[2];
            var context = arguments.length &lt;= 3 || arguments[3] === undefined ? null : arguments[3];

            var serializer = this._getSerializerForDeserialization(data, className, format);
            if (null !== serializer) {
                return serializer.deserialize(data, className, format, context);
            }

            throw new Error(&apos;An unexpected value could not be deserialized: &quot;&apos; + data + &apos;&quot;&apos;);
        }

        /**
         * @inheritDoc
         */
    }, {
        key: &apos;supportsDeserialize&apos;,
        value: function supportsDeserialize(data, className) {
            var format = arguments.length &lt;= 2 || arguments[2] === undefined ? null : arguments[2];

            return null !== this._getSerializerForDeserialization(data, className, format);
        }

        /**
         * @param {*}      data          Any data
         * @param {string} [format=null] Format the normalization result will be encoded as
         *
         * @return {?SerializerInterface}
         * @private
         */
    }, {
        key: &apos;_getSerializerForSerialization&apos;,
        value: function _getSerializerForSerialization(data) {
            var format = arguments.length &lt;= 1 || arguments[1] === undefined ? null : arguments[1];
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this._serializers.values()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var serializer = _step2.value;

                    if (true === serializer.supportsSerialize(data, format)) {
                        return serializer;
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 &amp;&amp; _iterator2[&apos;return&apos;]) {
                        _iterator2[&apos;return&apos;]();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            return null;
        }

        /**
         * @param {*}       data      Data to restore
         * @param {string}  className The expected class to instantiate
         * @param {?string} format    Format the given data was extracted from
         *
         * @return {?SerializerInterface}
         * @private
         */
    }, {
        key: &apos;_getSerializerForDeserialization&apos;,
        value: function _getSerializerForDeserialization(data, className, format) {
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = this._serializers.values()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var serializer = _step3.value;

                    if (true === serializer.supportsDeserialize(data, className, format)) {
                        return serializer;
                    }
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 &amp;&amp; _iterator3[&apos;return&apos;]) {
                        _iterator3[&apos;return&apos;]();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            return null;
        }
    }]);

    return Serializer;
})(_SerializerInterface3[&apos;default&apos;]);

exports[&apos;default&apos;] = Serializer;
module.exports = exports[&apos;default&apos;];

/**
 * @var {Map.&lt;string,SerializerInterface&gt;}
 */

//# sourceMappingURL=Serializer-compiled.js.map</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
